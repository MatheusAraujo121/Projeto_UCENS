<div class="carousel-manager">
  
  <h2>Gerenciar Carrossel</h2>

  <div class="upload-section">
    <h3>Adicionar Novas Imagens</h3>
    
    <input 
      type="file" 
      multiple 
      (change)="onFileSelected($event)" 
      accept="image/png, image/jpeg, image/webp"
    >

    <div *ngIf="previewUrls.length > 0" class="preview-gallery">
      <div *ngFor="let url of previewUrls" class="preview-image-card">
        <img [src]="url" alt="Preview da imagem selecionada">
      </div>
    </div>


    <div *ngIf="selectedFiles.length > 0" class="file-info">
      {{ selectedFiles.length }} arquivo(s) selecionado(s).
    </div>

    <button 
      (click)="onUpload()" 
      [disabled]="selectedFiles.length === 0 || isLoading">
      <span *ngIf="!isLoading">Enviar</span>
      <span *ngIf="isLoading">Enviando...</span>
    </button>
    
    <div *ngIf="uploadError" class="text-danger"> 
      {{ uploadError }}
    </div>
  </div>

  <hr>

  <div class="gallery-section">
    <h3>Imagens Atuais</h3>
    
    <div *ngIf="isLoading && images.length === 0" class="loading-message">
      Carregando...
    </div>
    
    <div *ngIf="!isLoading && images.length === 0" class="empty-message">
      Nenhuma imagem no carrossel.
    </div>

    <div class="image-gallery">
      <div *ngFor="let img of images" class="image-card">
        <img [src]="img.imageUrl" alt="Imagem do Carrossel">
        <button (click)="onDelete(img.id)" class="delete-btn" title="Remover">
          &times;
        </button>
      </div>
    </div>
  </div>

</div>