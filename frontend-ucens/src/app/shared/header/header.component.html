<nav class="navbar navbar-expand-lg navbar-light bg-white px-4 py-3">
  <a class="navbar-brand d-flex align-items-center" [routerLink]="authService.isLoggedIn() ? '/dashboard' : '/'">
    <img src="assets/img/logo-nippon.png" alt="Nippon Sorocaba" height="40">
  </a>
  <div class="collapse navbar-collapse">
    <mat-toolbar color="transparent" class="app-toolbar">

      <!-- MENU QUANDO NÃO ESTÁ LOGADO -->
      <ng-container *ngIf="!authService.isLoggedIn()">
        <button mat-button routerLink="">Home</button>
        <button mat-button #insBtn="matMenuTrigger" [matMenuTriggerFor]="menuInstitutional"  class="menu-button" [class.opened]="insBtn.menuOpen">
          <span class="menu-label">Institucional</span>
          <mat-icon class="menu-icon" iconPositionEnd>expand_more</mat-icon>
        </button>
        <mat-menu #menuInstitutional="matMenu">
          <button mat-menu-item routerLink="story">História</button>
          <button mat-menu-item routerLink="statute">Estatuto</button>
          <button mat-menu-item routerLink="regulations">Regulamento</button>
          <button mat-menu-item routerLink="directors">Diretoria</button>
          <button mat-menu-item routerLink="ex-presidents">Ex-Presidentes</button>
        </mat-menu>

        <button mat-button #sedBtn="matMenuTrigger" [matMenuTriggerFor]="menuSedes" class="menu-button" [class.opened]="sedBtn.menuOpen">
          <span class="menu-label">Sedes</span>
          <mat-icon class="menu-icon" iconPositionEnd>expand_more</mat-icon>
        </button>
        <mat-menu #menuSedes="matMenu">
          <button mat-menu-item routerLink="headquarter/social">Sede Social</button>
          <button mat-menu-item routerLink="headquarter/campestre1">Sede Campestre 1</button>
          <button mat-menu-item routerLink="headquarter/campestre2">Sede Campestre 2</button>
        </mat-menu>


        <!-- Departamentos -->
        <button mat-button #depBtn="matMenuTrigger" [matMenuTriggerFor]="menuDeptos" class="menu-button"
          [class.opened]="depBtn.menuOpen">
          <span class="menu-label">Departamentos</span>
          <mat-icon class="menu-icon" iconPositionEnd>expand_more</mat-icon>
        </button>
        <mat-menu #menuDeptos="matMenu" class="app-menu">
          <button mat-menu-item routerLink="departments/sporty">Esportivos</button>
          <button mat-menu-item routerLink="departments/cultural">Culturais</button>
        </mat-menu>
        <button mat-button routerLink="events">Eventos</button>
        <button mat-button routerLink="/contact">Contato</button>
      </ng-container>

      <!-- MENU QUANDO ESTÁ LOGADO (Dashboard) -->
      <ng-container *ngIf="authService.isLoggedIn()">
        <button mat-button routerLink="/list-associates">Associados</button>
        <button mat-button routerLink="/list-dependents">Dependentes</button>
        <button mat-button routerLink="/list-activities">Atividades</button>
        <button mat-button routerLink="/list-events">Eventos</button>
        <button mat-button routerLink="/financial-dashboard">Financeiro</button>
        <button mat-button routerLink="/list-suppliers">Fornecedores</button>
        <button mat-button routerLink="/list-expenses">Despesas</button>
      </ng-container>

    </mat-toolbar>

    <!-- BOTÃO DE LOGIN OU ENGRENAGEM -->
    <div>
      <ng-container *ngIf="!authService.isLoggedIn(); else loggedMenu">
        <button class="btn btn-outline-primary" routerLink="/login">Login</button>
      </ng-container>

      <ng-template #loggedMenu>
        <button mat-icon-button [matMenuTriggerFor]="userMenu">
          <mat-icon>settings</mat-icon>
        </button>
        <mat-menu #userMenu="matMenu">
          <button mat-menu-item (click)="logout()">
            <mat-icon>logout</mat-icon>
            Sair
          </button>
        </mat-menu>
      </ng-template>
    </div>
  </div>
</nav>

<hr class="header-divider" />